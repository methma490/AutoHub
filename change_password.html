<!DOCTYPE html>
<html>
    <head>
        <title> AutoHub - Vehicles in Srilanka</title>
        <link rel="icon" href="Images/Title logo.png" sizes="32x32" type="image/png"> <!-- Standard favicon for web browsers -->
        <link rel="stylesheet" href="CSS/change_password.css">


        <!--start javascript part for valid password-->
        <script>

            function validateForm(event) {
            // Prevent the form from submitting
            event.preventDefault();

            // get all error masages in unic varibles 
            const errorMessageDiv1 = document.getElementById("error-message1");
            const errorMessageDiv2 = document.getElementById("error-message2");

            errorMessageDiv1.textContent = ""; // Clear previous error messages
            errorMessageDiv2.textContent = ""; // Clear previous error messages


            let isValid = true;

            // check if user enter valid Pasword type it must be ,
            /* 1. one or more capital leter
            2. one or more simple letter
            3. one or more special character
            4. least 8 charachters */
            const paswordInput = document.getElementById("new_password");
            const paswordPattern = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/ ;
            if (!paswordPattern.test(paswordInput.value)) {
                errorMessageDiv1.textContent += "Password must be at least 8 characters, contain one uppercase letter, and one symbol !"; // if user enter incorrect Pasword, then error massage will be print
                isValid = false;
            }


            // check if user enter again previous paswowrd 
            const confirmpaswordInput = document.getElementById("confirm_password");
            if (paswordInput.value !== confirmpaswordInput.value) {
                errorMessageDiv2.textContent += "Passwords do not match!"; // if user enter different pasword, then erroer massage will be print 
                isValid = false;
            }

            if (isValid) {
            //window.location.href="Home.html" ;
            document.querySelector("form").submit();    
            }

        }

        </script>
        <!--End of the  javascript part for valid password-->



    </head>

    <body>
        
        <!----------------------------Start of the navigation bar----------------------------->
        <div class="nvbar">
            <a href="Home.html"> <img class="Hlogo" src="Images/websitelogo.png" alt="webpage logo"> </a>
            <ul id="nvgbar">
                <li class="nvglist"> <a href="Home.html"> Home </a> </li>
                <li class="nvglist"> <a href="AdsPg.html"> Ads </a> </li>
                <li class="nvglist"> <a href="Support.html"> Support </a> </li>
                <li class="nvglist"> <a href="AboutUS.html"> About us </a> </li>
                <li class="nvglist"> <a href="Contact.html"> Contact us </a> </li>
                <li class="nvglist"> <a href="login.html"> Login </a> </li>
            </ul>
            <a href="Profile.html"> <img class="Flogo" src="Images/profile logo.png" alt="profile logo"> </a>
        </div>
        <!----------------------------End of navigation bar---------------------------------->

    
    <!-- Password change form -->
    <form action="change_password.php" method="post" class="password-form">
    <label for="email">Email:</label>
    <input type="email" name="email" required class="input-field"><br>
    
    <label for="old_password">Old Password:</label>
    <input type="password" name="old_password" required class="input-field"><br>
    
    <label for="new_password">New Password:</label>
    <input type="password" name="new_password" id="new_password" required class="input-field"><br>
    <div id="error-message1" style="color: red;"></div>
    
    <label for="confirm_password">Confirm New Password:</label>
    <input type="password" name="confirm_password" id="confirm_password" required class="input-field"><br>
    <div id="error-message2" style="color: red;"></div>
    
    <button type="submit" onclick="validateForm(event)" class="submit-button">Change Password</button>
    </form>
    <!--End of the pasword form-->


        <!--------------------------------------------footer section start--------------------------------------------------->
        <section class="footer"> 

            <div class="box-container">

                <div class="box">
                    <h3>About us</h3>
                    <a href="AboutUS.html">About us</a>
                    <a href="AboutUS.html">Our community</a>

                </div>
                <div class="box">
                    <h3>Support</h3>
                    <a href="Contact.html">24 hours contact center</a>
                    <a href="Support.html">FAQs</a>
                </div>
                <div class="box">
                    <h3>Terms and Conditions</h3>
                    <a href="terms&condition.html">General</a>
                    <a href="terms&condition.html">Copyright</a>
                </div>
                <div class="follow-us-container">
                    <h3>Follow Us</h3> <br>
                    <a href="#"><img src="Images/facebook icon.png" alt="Facebook" id="social-links"></a>
                    <a href="#"><img src="Images/twitter icon.png" alt="Twitter" id="social-links"></a>
                    <a href="#"><img src="Images/instragram icon.png" alt="Instagram" id="social-links"></a>
                </div>
            </div>
            <h1 class="credit"><span>@ 2022 All Rights Reseverd </span></h1>
         </section>
            <!--------------------------------------------footer section End--------------------------------------------------->

    </body>
</html>
